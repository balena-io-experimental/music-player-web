extend layout

block content
  .container(ng-app="playlist", data-framework="firebase")
    section(ng-controller='PlaylistCtrl')
      header
        h1 Playlist
        form(ng-submit='addTodo()', role="form")
          input.form-control(placeholder='What do you want to play?', ng-model='newTodo', autofocus)
      section(ng-show='totalCount', ng-cloak)
        .checkbox
          label
            input(type='checkbox', ng-model='allChecked', ng-click='markAll(allChecked)')
            | Mark all as complete
        table.playlist.table.table-striped
          colgroup
            col(width="10%")
            col(width="80%")
            col(width="10%")
          tbody
            tr(
              ng-repeat='(id, todo) in todos | orderBy:"id":true',
              ng-class='{editing: todo == editedTodo}'
            )
              td
                input(type='checkbox', ng-model='todo.completed', ng-change='todos.$save(id)')
              td(ng-class='{"text-muted": todo.completed}')
                p.form-control-static: label.view(
                  ng-dblclick='editTodo(id)',
                  speechrecognition='{tasks: recognition["en-US"].listTasks, reference: todo.title}'
                )
                  | {{todo.title}}
                form.edit(ng-submit='doneEditing(id)')
                  input.form-control(
                    ng-model='todo.title',
                    todo-escape='revertEditing(id)',
                    todo-blur='doneEditing(id)',
                    todo-focus='todo == editedTodo'
                  )
              td
                button.btn.btn-sm.btn-danger(ng-click='removeTodo(id)'): &times;
      footer#footer(ng-show='!!totalCount', ng-cloak)
        span#todo-count
          strong {{remainingCount}}&nbsp;
          ng-pluralize(count='remainingCount', when='{ one: "song left", other: "songs left" }')
        button.btn.btn-link(type="button", ng-click="clearCompletedTodos()", ng-show="!!completedCount") Clear completed
    footer
      strong Voice commands:
      ul
        li play SONG
        li start music
        li next
        li remove SONG
        li stop music
        li clear completed

