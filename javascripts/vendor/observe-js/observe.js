!function(t){"use strict";function e(){function t(t){"splice"===t[0].type&&"splice"===t[1].type&&(e=!0)}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var e=!1,n=[0];return Array.observe(n,t),n[1]=1,n.length=0,Object.deliverChangeRecords(t),e}function n(t){return+t===t>>>0}function r(t){return+t}function i(t){return t===Object(t)}function o(t,e){return t===e?0!==t||1/t===1/e:P(t)&&P(e)?!0:t!==t&&e!==e}function a(t){return"string"!=typeof t?!1:(t=t.replace(/\s/g,""),""==t?!0:"."==t[0]?!1:W.test(t))}function s(t){var e=V[t];if(e)return e;if(a(t)){var e=new c(t);return V[t]=e,e}}function c(t){return""==t.trim()?this:n(t)?(this.push(String(t)),this):(t.split(/\./).filter(function(t){return t}).forEach(function(t){this.push(t)},this),R&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn()),void 0)}function u(t){for(var e=0;Q>e&&t.check();)t.report(),e++}function h(t){for(var e in t)return!1;return!0}function f(t){return h(t.added)&&h(t.removed)&&h(t.changed)}function l(t,e){var n={},r={},i={};for(var o in e){var a=t[o];(void 0===a||a!==e[o])&&(o in t?a!==e[o]&&(i[o]=a):r[o]=void 0)}for(var o in t)o in e||(n[o]=t[o]);return Array.isArray(t)&&t.length!==e.length&&(i.length=t.length),{added:n,removed:r,changed:i}}function d(t,e){var n=e||(Array.isArray(t)?[]:{});for(var r in t)n[r]=t[r];return Array.isArray(t)&&(n.length=t.length),n}function p(t,e,n,r){if(this.closed=!1,this.object=t,this.callback=e,this.target=n,this.token=r,this.reporting=!0,O){var i=this;this.boundInternalCallback=function(t){i.internalCallback(t)}}g(this),this.connect(),this.sync(!0)}function g(t){q&&(J.push(t),p._allObserversCount++)}function b(t,e,n,r){p.call(this,t,e,n,r)}function v(t,e,n,r){if(!Array.isArray(t))throw Error("Provided object is not an Array");p.call(this,t,e,n,r)}function m(t){this.arr=[],this.callback=t,this.isObserved=!0}function y(t,e,n,r,o){this.value=void 0;var a=s(e);return a?a.length?i(t)?(this.path=a,p.call(this,t,n,r,o),void 0):(this.closed=!0,this.value=void 0,void 0):(this.closed=!0,this.value=t,void 0):(this.closed=!0,this.value=void 0,void 0)}function k(t,e){if("function"==typeof Object.observe){var n=Object.getNotifier(t);return function(r,i){var o={object:t,type:r,name:e};2===arguments.length&&(o.oldValue=i),n.notify(o)}}}function w(t,e,n){for(var r={},i={},o=0;o<e.length;o++){var a=e[o];X[a.type]?(a.name in n||(n[a.name]=a.oldValue),"updated"!=a.type&&("new"!=a.type?a.name in r?(delete r[a.name],delete n[a.name]):i[a.name]=!0:a.name in i?delete i[a.name]:r[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in r)r[s]=t[s];for(var s in i)i[s]=void 0;var c={};for(var s in n)if(!(s in r||s in i)){var u=t[s];n[s]!==u&&(c[s]=u)}return{added:r,removed:i,changed:c}}function j(t,e,n,r,i,o){for(var a=o-i+1,s=n-e+1,c=new Array(a),u=0;a>u;u++)c[u]=new Array(s),c[u][0]=u;for(var h=0;s>h;h++)c[0][h]=h;for(var u=1;a>u;u++)for(var h=1;s>h;h++)if(r[i+u-1]===t[e+h-1])c[u][h]=c[u-1][h-1];else{var f=c[u-1][h]+1,l=c[u][h-1]+1;c[u][h]=l>f?f:l}return c}function $(t){for(var e=t.length-1,n=t[0].length-1,r=t[e][n],i=[];e>0||n>0;)if(0!=e)if(0!=n){var o,a=t[e-1][n-1],s=t[e-1][n],c=t[e][n-1];o=c>s?a>s?s:a:a>c?c:a,o==a?(a==r?i.push(te):(i.push(ee),r=a),e--,n--):o==s?(i.push(re),e--,r=s):(i.push(ne),n--,r=c)}else i.push(re),e--;else i.push(ne),n--;return i.reverse(),i}function _(t,e,n){for(var r=0;n>r;r++)if(t[r]!==e[r])return r;return n}function E(t,e,n){for(var r=t.length,i=e.length,o=0;n>o&&t[--r]===e[--i];)o++;return o}function F(t,e,n){return{index:t,removed:e,addedCount:n}}function S(t,e,n,r,i,o){var a=0,s=0,c=Math.min(n-e,o-i);if(0==e&&0==i&&(a=_(t,r,c)),n==t.length&&o==r.length&&(s=E(t,r,c-a)),e+=a,i+=a,n-=s,o-=s,n-e==0&&o-i==0)return[];if(e==n){for(var u=F(e,[],0);o>i;)u.removed.push(r[i++]);return[u]}if(i==o)return[F(e,[],n-e)];for(var h=$(j(t,e,n,r,i,o)),u=void 0,f=[],l=e,d=i,p=0;p<h.length;p++)switch(h[p]){case te:u&&(f.push(u),u=void 0),l++,d++;break;case ee:u||(u=F(l,[],0)),u.addedCount++,l++,u.removed.push(r[d]),d++;break;case ne:u||(u=F(l,[],0)),u.addedCount++,l++;break;case re:u||(u=F(l,[],0)),u.removed.push(r[d]),d++}return u&&f.push(u),f}function A(t,e,n,r){return n>e||t>r?-1:e==n||r==t?0:n>t?r>e?e-n:r-n:e>r?r-t:e-t}function C(t,e,n,r){for(var i=F(e,n,r),o=!1,a=0,s=0;s<t.length;s++){var c=t[s];if(c.index+=a,!o){var u=A(i.index,i.index+i.removed.length,c.index,c.index+c.addedCount);if(u>=0){t.splice(s,1),s--,a-=c.addedCount-c.removed.length,i.addedCount+=c.addedCount-u;var h=i.removed.length+c.removed.length-u;if(i.addedCount||h){var n=c.removed;if(i.index<c.index){var f=i.removed.slice(0,c.index-i.index);Array.prototype.push.apply(f,n),n=f}if(i.index+i.removed.length>c.index+c.addedCount){var l=i.removed.slice(c.index+c.addedCount-i.index);Array.prototype.push.apply(n,l)}i.removed=n,c.index<i.index&&(i.index=c.index)}else o=!0}else if(i.index<c.index){o=!0,t.splice(s,0,i),s++;var d=i.addedCount-i.removed.length;c.index+=d,a+=d}}}o||t.push(i)}function T(t,e){for(var i=[],o=0;o<e.length;o++){var a=e[o];switch(a.type){case"splice":C(i,a.index,a.removed.slice(),a.addedCount);break;case"new":case"updated":case"deleted":if(!n(a.name))continue;var s=r(a.name);if(0>s)continue;C(i,s,[a.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(a))}}return i}function D(t,e){var n=[];return T(t,e).forEach(function(e){return 1==e.addedCount&&1==e.removed.length?(e.removed[0]!==t[e.index]&&n.push(e),void 0):(n=n.concat(S(t,e.index,e.index+e.addedCount,e.removed,0,e.removed.length)),void 0)}),n}var O=e(),R=!1;try{var x=new Function("","return true;");R=x()}catch(H){}var P=t.Number.isNaN||function(e){return"number"==typeof e&&t.isNaN(e)},U="__proto__"in{}?function(t){return t}:function(t){var e=t.__proto__;if(!e)return t;var n=Object.create(e);return Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}),n},N="[$_a-zA-Z]",M="[$_a-zA-Z0-9]",I=N+"+"+M+"*",L="(?:[0-9]|[1-9]+[0-9]+)",z="(?:"+I+"|"+L+")",B="(?:"+z+")(?:\\."+z+")*",W=new RegExp("^"+B+"$"),V={};c.prototype=U({__proto__:[],toString:function(){return this.join(".")},getValueFrom:function(t){for(var e=0;e<this.length;e++){if(void 0===t||null===t)return;t=t[this[e]]}return t},getValueFromObserved:function(t,e){e.reset();for(var n=0;n<this.length;n++){if(void 0===t||null===t)return e.cleanup(),void 0;e.observe(t),t=t[this[n]]}return t},compiledGetValueFromFn:function(){var t=this.map(function(t){return n(t)?'["'+t+'"]':"."+t}),e="",r="obj";e+="if (obj !== null && obj !== undefined";for(var i=0;i<this.length-1;i++){{this[i]}r+=t[i],e+=" &&\n     "+r+" !== null && "+r+" !== undefined"}return e+=")\n",r+=t[i],e+="  return "+r+";\nelse\n  return undefined;",new Function("obj",e)},setValueFrom:function(t,e){if(!this.length)return!1;for(var n=0;n<this.length-1;n++){if(void 0===t||null===t)return!1;t=t[this[n]]}return void 0===t||null===t?!1:(t[this[this.length-1]]=e,!0)}});var Q=1e3;p.prototype={internalCallback:function(t){this.closed||this.reporting&&this.check(t)&&(this.report(),this.testingResults&&(this.testingResults.anyChanged=!0))},close:function(){this.closed||(this.object&&"function"==typeof this.object.unobserved&&this.object.unobserved(),this.disconnect(),this.object=void 0,this.closed=!0)},deliver:function(t){this.closed||(O?(this.testingResults=t,Object.deliverChangeRecords(this.boundInternalCallback),this.testingResults=void 0):u(this))},report:function(){this.reporting&&(this.sync(!1),this.reportArgs.push(this.token),this.invokeCallback(this.reportArgs),this.reportArgs=void 0)},invokeCallback:function(t){try{this.callback.apply(this.target,t)}catch(e){p._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+e)}},reset:function(){this.closed||(O&&(this.reporting=!1,Object.deliverChangeRecords(this.boundInternalCallback),this.reporting=!0),this.sync(!0))}};var J,q=!O||t.forceCollectObservers;p._allObserversCount=0,q&&(J=[]);var Z=!1,K="function"==typeof Object.deliverAllChangeRecords;t.Platform=t.Platform||{},t.Platform.performMicrotaskCheckpoint=function(){if(!Z){if(K)return Object.deliverAllChangeRecords(),void 0;if(q){Z=!0;var t=0,e={};do{t++;var n=J;J=[],e.anyChanged=!1;for(var r=0;r<n.length;r++){var i=n[r];i.closed||(O?i.deliver(e):i.check()&&(e.anyChanged=!0,i.report()),J.push(i))}}while(Q>t&&e.anyChanged);p._allObserversCount=J.length,Z=!1}}},q&&(t.Platform.clearObservers=function(){J=[]}),b.prototype=U({__proto__:p.prototype,connect:function(){O&&Object.observe(this.object,this.boundInternalCallback)},sync:function(){O||(this.oldObject=d(this.object))},check:function(t){var e,n;if(O){if(!t)return!1;n={},e=w(this.object,t,n)}else n=this.oldObject,e=l(this.object,this.oldObject);return f(e)?!1:(this.reportArgs=[e.added||{},e.removed||{},e.changed||{}],this.reportArgs.push(function(t){return n[t]}),!0)},disconnect:function(){O?this.object&&Object.unobserve(this.object,this.boundInternalCallback):this.oldObject=void 0}}),v.prototype=U({__proto__:b.prototype,connect:function(){O&&Array.observe(this.object,this.boundInternalCallback)},sync:function(){O||(this.oldObject=this.object.slice())},check:function(t){var e;if(O){if(!t)return!1;e=D(this.object,t)}else e=S(this.object,0,this.object.length,this.oldObject,0,this.oldObject.length);return e&&e.length?(this.reportArgs=[e],!0):!1}}),v.applySplices=function(t,e,n){n.forEach(function(n){for(var r=[n.index,n.removed.length],i=n.index;i<n.index+n.addedCount;)r.push(e[i]),i++;Array.prototype.splice.apply(t,r)})};var Y=Object.getPrototypeOf({}),G=Object.getPrototypeOf([]);m.prototype={reset:function(){this.isObserved=!this.isObserved},observe:function(t){if(i(t)&&t!==Y&&t!==G){var e=this.arr.indexOf(t);e>=0&&this.arr[e+1]===this.isObserved||(0>e&&(e=this.arr.length,this.arr[e]=t,Object.observe(t,this.callback)),this.arr[e+1]=this.isObserved,this.observe(Object.getPrototypeOf(t)))}},cleanup:function(){for(var t=0,e=0,n=this.isObserved;e<this.arr.length;){var r=this.arr[e];this.arr[e+1]==n?(e>t&&(this.arr[t]=r,this.arr[t+1]=n),t+=2):Object.unobserve(r,this.callback),e+=2}this.arr.length=t}},y.prototype=U({__proto__:p.prototype,connect:function(){O&&(this.observedSet=new m(this.boundInternalCallback))},disconnect:function(){this.value=void 0,O&&(this.observedSet.reset(),this.observedSet.cleanup(),this.observedSet=void 0)},check:function(){return this.value=O?this.path.getValueFromObserved(this.object,this.observedSet):this.path.getValueFrom(this.object),o(this.value,this.oldValue)?!1:(this.reportArgs=[this.value,this.oldValue],!0)},sync:function(t){t&&(this.value=O?this.path.getValueFromObserved(this.object,this.observedSet):this.path.getValueFrom(this.object)),this.oldValue=this.value}}),y.getValueAtPath=function(t,e){var n=s(e);if(n)return n.getValueFrom(t)},y.setValueAtPath=function(t,e,n){var r=s(e);r&&r.setValueFrom(t,n)};var X={"new":!0,updated:!0,deleted:!0};y.defineProperty=function(t,e,n){var r=n.object,i=s(n.path),o=k(t,e),a=new y(r,n.path,function(t,e){o&&o("updated",e)});return Object.defineProperty(t,e,{get:function(){return i.getValueFrom(r)},set:function(t){i.setValueFrom(r,t)},configurable:!0}),{close:function(){var n=i.getValueFrom(r);o&&a.deliver(),a.close(),Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}}};var te=0,ee=1,ne=2,re=3;t.Observer=p,t.Observer.hasObjectObserve=O,t.ArrayObserver=v,t.ArrayObserver.calculateSplices=function(t,e){return S(t,0,t.length,e,0,e.length)},t.ObjectObserver=b,t.PathObserver=y,t.Path=c}("undefined"!=typeof global&&global?global:this);