!function(e){"use strict";function t(){function e(e){"splice"===e[0].type&&"splice"===e[1].type&&(t=!0)}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var t=!1,n=[0];return Array.observe(n,e),n[1]=1,n.length=0,Object.deliverChangeRecords(e),t}function n(e){return+e===e>>>0}function r(e){return+e}function i(e){return e===Object(e)}function o(e,t){return e===t?0!==e||1/e===1/t:_(e)&&_(t)?!0:e!==e&&t!==t}function a(e){return"string"!=typeof e?!1:(e=e.replace(/\s/g,""),""==e?!0:"."==e[0]?!1:W.test(e))}function s(e){var t=V[e];if(t)return t;if(a(e)){var t=new u(e);return V[e]=t,t}}function u(e){return""==e.trim()?this:n(e)?(this.push(String(e)),this):(e.split(/\./).filter(function(e){return e}).forEach(function(e){this.push(e)},this),void(N&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())))}function c(e){for(var t=0;z>t&&e.check();)e.report(),t++}function l(e){for(var t in e)return!1;return!0}function f(e){return l(e.added)&&l(e.removed)&&l(e.changed)}function h(e,t){var n={},r={},i={};for(var o in t){var a=e[o];(void 0===a||a!==t[o])&&(o in e?a!==t[o]&&(i[o]=a):r[o]=void 0)}for(var o in e)o in t||(n[o]=e[o]);return Array.isArray(e)&&e.length!==t.length&&(i.length=e.length),{added:n,removed:r,changed:i}}function p(e,t){var n=t||(Array.isArray(e)?[]:{});for(var r in e)n[r]=e[r];return Array.isArray(e)&&(n.length=e.length),n}function d(e,t,n,r){if(this.closed=!1,this.object=e,this.callback=t,this.target=n,this.token=r,this.reporting=!0,F){var i=this;this.boundInternalCallback=function(e){i.internalCallback(e)}}g(this),this.connect(),this.sync(!0)}function g(e){J&&(Q.push(e),d._allObserversCount++)}function v(e,t,n,r){d.call(this,e,t,n,r)}function m(e,t,n,r){if(!Array.isArray(e))throw Error("Provided object is not an Array");d.call(this,e,t,n,r)}function y(e){this.arr=[],this.callback=e,this.isObserved=!0}function b(e,t,n,r,o){this.value=void 0;var a=s(t);return a?a.length?i(e)?(this.path=a,void d.call(this,e,n,r,o)):(this.closed=!0,void(this.value=void 0)):(this.closed=!0,void(this.value=e)):(this.closed=!0,void(this.value=void 0))}function $(e,t){if("function"==typeof Object.observe){var n=Object.getNotifier(e);return function(r,i){var o={object:e,type:r,name:t};2===arguments.length&&(o.oldValue=i),n.notify(o)}}}function w(e,t,n){for(var r={},i={},o=0;o<t.length;o++){var a=t[o];K[a.type]?(a.name in n||(n[a.name]=a.oldValue),"updated"!=a.type&&("new"!=a.type?a.name in r?(delete r[a.name],delete n[a.name]):i[a.name]=!0:a.name in i?delete i[a.name]:r[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in r)r[s]=e[s];for(var s in i)i[s]=void 0;var u={};for(var s in n)if(!(s in r||s in i)){var c=e[s];n[s]!==c&&(u[s]=c)}return{added:r,removed:i,changed:u}}function x(e,t,n,r,i,o){for(var a=o-i+1,s=n-t+1,u=new Array(a),c=0;a>c;c++)u[c]=new Array(s),u[c][0]=c;for(var l=0;s>l;l++)u[0][l]=l;for(var c=1;a>c;c++)for(var l=1;s>l;l++)if(r[i+c-1]===e[t+l-1])u[c][l]=u[c-1][l-1];else{var f=u[c-1][l]+1,h=u[c][l-1]+1;u[c][l]=h>f?f:h}return u}function k(e){for(var t=e.length-1,n=e[0].length-1,r=e[t][n],i=[];t>0||n>0;)if(0!=t)if(0!=n){var o,a=e[t-1][n-1],s=e[t-1][n],u=e[t][n-1];o=u>s?a>s?s:a:a>u?u:a,o==a?(a==r?i.push(et):(i.push(tt),r=a),t--,n--):o==s?(i.push(rt),t--,r=s):(i.push(nt),n--,r=u)}else i.push(rt),t--;else i.push(nt),n--;return i.reverse(),i}function E(e,t,n){for(var r=0;n>r;r++)if(e[r]!==t[r])return r;return n}function S(e,t,n){for(var r=e.length,i=t.length,o=0;n>o&&e[--r]===t[--i];)o++;return o}function C(e,t,n){return{index:e,removed:t,addedCount:n}}function T(e,t,n,r,i,o){var a=0,s=0,u=Math.min(n-t,o-i);if(0==t&&0==i&&(a=E(e,r,u)),n==e.length&&o==r.length&&(s=S(e,r,u-a)),t+=a,i+=a,n-=s,o-=s,n-t==0&&o-i==0)return[];if(t==n){for(var c=C(t,[],0);o>i;)c.removed.push(r[i++]);return[c]}if(i==o)return[C(t,[],n-t)];for(var l=k(x(e,t,n,r,i,o)),c=void 0,f=[],h=t,p=i,d=0;d<l.length;d++)switch(l[d]){case et:c&&(f.push(c),c=void 0),h++,p++;break;case tt:c||(c=C(h,[],0)),c.addedCount++,h++,c.removed.push(r[p]),p++;break;case nt:c||(c=C(h,[],0)),c.addedCount++,h++;break;case rt:c||(c=C(h,[],0)),c.removed.push(r[p]),p++}return c&&f.push(c),f}function A(e,t,n,r){return n>t||e>r?-1:t==n||r==e?0:n>e?r>t?t-n:r-n:t>r?r-e:t-e}function j(e,t,n,r){for(var i=C(t,n,r),o=!1,a=0,s=0;s<e.length;s++){var u=e[s];if(u.index+=a,!o){var c=A(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(c>=0){e.splice(s,1),s--,a-=u.addedCount-u.removed.length,i.addedCount+=u.addedCount-c;var l=i.removed.length+u.removed.length-c;if(i.addedCount||l){var n=u.removed;if(i.index<u.index){var f=i.removed.slice(0,u.index-i.index);Array.prototype.push.apply(f,n),n=f}if(i.index+i.removed.length>u.index+u.addedCount){var h=i.removed.slice(u.index+u.addedCount-i.index);Array.prototype.push.apply(n,h)}i.removed=n,u.index<i.index&&(i.index=u.index)}else o=!0}else if(i.index<u.index){o=!0,e.splice(s,0,i),s++;var p=i.addedCount-i.removed.length;u.index+=p,a+=p}}}o||e.push(i)}function O(e,t){for(var i=[],o=0;o<t.length;o++){var a=t[o];switch(a.type){case"splice":j(i,a.index,a.removed.slice(),a.addedCount);break;case"new":case"updated":case"deleted":if(!n(a.name))continue;var s=r(a.name);if(0>s)continue;j(i,s,[a.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(a))}}return i}function D(e,t){var n=[];return O(e,t).forEach(function(t){return 1==t.addedCount&&1==t.removed.length?void(t.removed[0]!==e[t.index]&&n.push(t)):void(n=n.concat(T(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)))}),n}var F=t(),N=!1;try{var P=new Function("","return true;");N=P()}catch(M){}var _=e.Number.isNaN||function(t){return"number"==typeof t&&e.isNaN(t)},q="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n},R="[$_a-zA-Z]",I="[$_a-zA-Z0-9]",L=R+"+"+I+"*",U="(?:[0-9]|[1-9]+[0-9]+)",H="(?:"+L+"|"+U+")",B="(?:"+H+")(?:\\."+H+")*",W=new RegExp("^"+B+"$"),V={};u.prototype=q({__proto__:[],toString:function(){return this.join(".")},getValueFrom:function(e){for(var t=0;t<this.length;t++){if(void 0===e||null===e)return;e=e[this[t]]}return e},getValueFromObserved:function(e,t){t.reset();for(var n=0;n<this.length;n++){if(void 0===e||null===e)return void t.cleanup();t.observe(e),e=e[this[n]]}return e},compiledGetValueFromFn:function(){var e=this.map(function(e){return n(e)?'["'+e+'"]':"."+e}),t="",r="obj";t+="if (obj !== null && obj !== undefined";for(var i=0;i<this.length-1;i++){{this[i]}r+=e[i],t+=" &&\n     "+r+" !== null && "+r+" !== undefined"}return t+=")\n",r+=e[i],t+="  return "+r+";\nelse\n  return undefined;",new Function("obj",t)},setValueFrom:function(e,t){if(!this.length)return!1;for(var n=0;n<this.length-1;n++){if(void 0===e||null===e)return!1;e=e[this[n]]}return void 0===e||null===e?!1:(e[this[this.length-1]]=t,!0)}});var z=1e3;d.prototype={internalCallback:function(e){this.closed||this.reporting&&this.check(e)&&(this.report(),this.testingResults&&(this.testingResults.anyChanged=!0))},close:function(){this.closed||(this.object&&"function"==typeof this.object.unobserved&&this.object.unobserved(),this.disconnect(),this.object=void 0,this.closed=!0)},deliver:function(e){this.closed||(F?(this.testingResults=e,Object.deliverChangeRecords(this.boundInternalCallback),this.testingResults=void 0):c(this))},report:function(){this.reporting&&(this.sync(!1),this.reportArgs.push(this.token),this.invokeCallback(this.reportArgs),this.reportArgs=void 0)},invokeCallback:function(e){try{this.callback.apply(this.target,e)}catch(t){d._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+t)}},reset:function(){this.closed||(F&&(this.reporting=!1,Object.deliverChangeRecords(this.boundInternalCallback),this.reporting=!0),this.sync(!0))}};var Q,J=!F||e.forceCollectObservers;d._allObserversCount=0,J&&(Q=[]);var X=!1,Z="function"==typeof Object.deliverAllChangeRecords;e.Platform=e.Platform||{},e.Platform.performMicrotaskCheckpoint=function(){if(!X){if(Z)return void Object.deliverAllChangeRecords();if(J){X=!0;var e=0,t={};do{e++;var n=Q;Q=[],t.anyChanged=!1;for(var r=0;r<n.length;r++){var i=n[r];i.closed||(F?i.deliver(t):i.check()&&(t.anyChanged=!0,i.report()),Q.push(i))}}while(z>e&&t.anyChanged);d._allObserversCount=Q.length,X=!1}}},J&&(e.Platform.clearObservers=function(){Q=[]}),v.prototype=q({__proto__:d.prototype,connect:function(){F&&Object.observe(this.object,this.boundInternalCallback)},sync:function(){F||(this.oldObject=p(this.object))},check:function(e){var t,n;if(F){if(!e)return!1;n={},t=w(this.object,e,n)}else n=this.oldObject,t=h(this.object,this.oldObject);return f(t)?!1:(this.reportArgs=[t.added||{},t.removed||{},t.changed||{}],this.reportArgs.push(function(e){return n[e]}),!0)},disconnect:function(){F?this.object&&Object.unobserve(this.object,this.boundInternalCallback):this.oldObject=void 0}}),m.prototype=q({__proto__:v.prototype,connect:function(){F&&Array.observe(this.object,this.boundInternalCallback)},sync:function(){F||(this.oldObject=this.object.slice())},check:function(e){var t;if(F){if(!e)return!1;t=D(this.object,e)}else t=T(this.object,0,this.object.length,this.oldObject,0,this.oldObject.length);return t&&t.length?(this.reportArgs=[t],!0):!1}}),m.applySplices=function(e,t,n){n.forEach(function(n){for(var r=[n.index,n.removed.length],i=n.index;i<n.index+n.addedCount;)r.push(t[i]),i++;Array.prototype.splice.apply(e,r)})};var G=Object.getPrototypeOf({}),Y=Object.getPrototypeOf([]);y.prototype={reset:function(){this.isObserved=!this.isObserved},observe:function(e){if(i(e)&&e!==G&&e!==Y){var t=this.arr.indexOf(e);t>=0&&this.arr[t+1]===this.isObserved||(0>t&&(t=this.arr.length,this.arr[t]=e,Object.observe(e,this.callback)),this.arr[t+1]=this.isObserved,this.observe(Object.getPrototypeOf(e)))}},cleanup:function(){for(var e=0,t=0,n=this.isObserved;t<this.arr.length;){var r=this.arr[t];this.arr[t+1]==n?(t>e&&(this.arr[e]=r,this.arr[e+1]=n),e+=2):Object.unobserve(r,this.callback),t+=2}this.arr.length=e}},b.prototype=q({__proto__:d.prototype,connect:function(){F&&(this.observedSet=new y(this.boundInternalCallback))},disconnect:function(){this.value=void 0,F&&(this.observedSet.reset(),this.observedSet.cleanup(),this.observedSet=void 0)},check:function(){return this.value=F?this.path.getValueFromObserved(this.object,this.observedSet):this.path.getValueFrom(this.object),o(this.value,this.oldValue)?!1:(this.reportArgs=[this.value,this.oldValue],!0)},sync:function(e){e&&(this.value=F?this.path.getValueFromObserved(this.object,this.observedSet):this.path.getValueFrom(this.object)),this.oldValue=this.value}}),b.getValueAtPath=function(e,t){var n=s(t);if(n)return n.getValueFrom(e)},b.setValueAtPath=function(e,t,n){var r=s(t);r&&r.setValueFrom(e,n)};var K={"new":!0,updated:!0,deleted:!0};b.defineProperty=function(e,t,n){var r=n.object,i=s(n.path),o=$(e,t),a=new b(r,n.path,function(e,t){o&&o("updated",t)});return Object.defineProperty(e,t,{get:function(){return i.getValueFrom(r)},set:function(e){i.setValueFrom(r,e)},configurable:!0}),{close:function(){var n=i.getValueFrom(r);o&&a.deliver(),a.close(),Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}}};var et=0,tt=1,nt=2,rt=3;e.Observer=d,e.Observer.hasObjectObserve=F,e.ArrayObserver=m,e.ArrayObserver.calculateSplices=function(e,t){return T(e,0,e.length,t,0,t.length)},e.ObjectObserver=v,e.PathObserver=b,e.Path=u}("undefined"!=typeof global&&global?global:this);